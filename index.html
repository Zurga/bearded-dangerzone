<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>D3 Project</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.js"></script>
		<script src="node_modules/topojson/topojson.min.js"></script>
		<script src="js/colorbrewer.js"></script>
		<link rel="stylesheet" href="css/main.css" />
		<script src="js/d3.slider.js" type="text/javascript"></script>
		<link rel="stylesheet" href="css/d3.slider.css" />
	</head>
	
	<body>
		<div id="wrapper">
			<div class="column left">
				<div id="map"></div>
	
				<div id="slider"></div>
			</div>
			
			<div class="column right">
			
				<div id="properties">
					<p><strong>Provincie:</strong> <span id="provincie"></span></p>
					<p><strong>Gemeente:</strong> <span id="gemeente"></span></p>
					<p>
						<select id="select_variable" name="select_variable">
							<option value="">Selecteer gegevensbron</option>
						</select>
					</p>
					<p id="description"></p>
				</div>
				
				<div id="visual">
					
					
				</div>
			
			</div>
		</div>
		
		<script type="text/javascript">
		$(document).ready(function() {
		
			$.ajax({
			    'async': false,
			    'global': false,
			    'url': 'convert/data/json/expl.json',
			    'dataType': "json"
			}).done(function(data) {
				$.each(data, function(index) { // Group
					var options = '';
					
				    keys = Object.keys(this),
				    i, len = keys.length;
					
					keys.sort();
					
					for (i = 0; i < len; i++)
					{
					    k = keys[i];
						options += '<option value="' + this[k].Filename + '" data-desc="' + this[k].Desc + '" data-type="' + this[k].Type + '">' + k + '</option>';
					}
			        /*$.each(this, function(index) {
			        	options += '<option value="' + this.Filename + '" data-desc="' + this.Desc + '" data-type="' + this.Type + '">' + index + '</option>';
			        });*/
			        $('#select_variable').append('<optgroup label="' + index + '">' + options + '</optgroup>');
			    });
			});
			
			var selected_variable = $('#select_variable').val();
			
			function loadData(variable) {
				if (variable == '') {
					return false;
				}
				return (function () {
				    var json = null;
				    $.ajax({
				        'async': false,
				        'global': false,
				        'url': 'convert/data/json/' + selected_variable	,
				        'dataType': "json"
				    }).done(function(data) {
				    	json = data;
				    });
				    return json;
				})();
			}
			
			var cbs_data = loadData(selected_variable);
						
			var height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0) * 0.88,
			    width = height * 0.85,
			    active_prov = d3.select(null);
			    active_gem = d3.select(null);
			    
			var tooltip;
			
			var projection = d3.geo.mercator()
			    .scale(height * 11)
			    .translate([width / 2, height / 2])
			    .center([5.4, 52.2]);
			
			var zoom = d3.behavior.zoom()
			    .translate([0, 0])
			    .scale(1)
			    .scaleExtent([1, 8])
			    .on("zoom", zoomed);
						
			var path = d3.geo.path()
			    .projection(projection);
			    
			var svg = d3.select("#map").append("svg")
			    .attr("width", width)
			    .attr("height", height)
				.on("click", stopped, true);
				
			svg.append("rect")
			    .attr("class", "background")
			    .attr("width", width)
			    .attr("height", height)
			    .on("click", reset_to_land);
			    
			var g = svg.append('g');
			var gg = svg.append('g');
			var selected_provincie = null;
			var selected_provincie_obj;
			var selected_gemeente = null;
			var selected_gemeente_obj;
			
			$('#select_variable').change(function() {
				selected_variable = $(this).val();
				cbs_data = loadData(selected_variable);
				$('#description').html($('option:selected', this).data('desc'));
				
				if (selected_provincie != null) {
					dataset = cbs_data[slider_value][selected_provincie.properties.PROV_NAME];
										
					var values = d3.values(dataset);
					values = values.map(function(d) {
						return +d;
					});
					
					var min = d3.min(values);
					var max = d3.max(values);
					
					var colorScale = d3.scale.quantize()
					    .range(colorbrewer.OrRd[8])
					    .domain([min*10, max*10]);
					
					gg.selectAll("g")
						.selectAll("path")
						.attr("fill", function(d) {
							if (dataset[d.properties.statnaam] === undefined) {
								return '#ccc';
							}
							return colorScale(dataset[d.properties.statnaam]*10);
						})
						.selectAll("title")
						.text(function(d) {
							if (dataset[d.properties.statnaam] === undefined || dataset[d.properties.statnaam] == "x") {
								return d.properties.statnaam + ": Geen data bekend"; 
							}
							return d.properties.statnaam + ": " + dataset[d.properties.statnaam]; 
						});
						
					if (selected_gemeente != null) {
						drawChart();
					}
					else {
						drawTreemap();
					}
				}
			});
			
			
			svg.call(zoom.event);
			
			var vars = [], hash;
			var q = document.URL.split('?')[1];
			if(q != undefined){
				q = q.split('&');
				for(var i = 0; i < q.length; i++){
					hash = q[i].split('=');
					vars.push(hash[1]);
					vars[hash[0]] = hash[1];
				}
			}
			
			/* slider with test data */
			// !!!test data please remove!!!
			var data = {Jaar: [2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014]};
			var colors = d3.scale.category10();
			var min = data.Jaar[0];
			var max = data.Jaar[data.Jaar.length - 1];
			var slider_value = max;
			d3.select('#slider')
				.style("width", width + "px")
				.call(d3.slider()
				.scale(d3.scale.ordinal()
					.domain(data.Jaar).rangePoints([0, 1], 0.5))
				.axis(d3.svg.axis())
				.snap(true)
				.value(max)
				.on("slide", function(evt, value){
					slider_value = value;
					redraw();
				}));
					
			function redraw() {
				cbs_data = loadData(selected_variable);
				
				if (selected_provincie != null) {
				
					drawTreemap();
					gg.selectAll('g').remove();
				
					d3.json("gemeente-prov/topo_"+selected_provincie.id+"_"+slider_value+".json", function(error, gem) {
						if (error) return console.error(error);
					
						dataset = cbs_data[slider_value][selected_provincie.properties.PROV_NAME];
						
						var values = d3.values(dataset);
						values = values.map(function(d) {
							return +d;
						});
						
						if (selected_variable == "stedelijkheid.json") {
							var max = d3.min(values);
							var min = d3.max(values);
						}
						else {
							var min = d3.min(values);
							var max = d3.max(values);
						}
						
						var colorScale = d3.scale.quantize()
						    .range(colorbrewer.OrRd[8])
						    .domain([min, max]);
					
						gg.attr("fill", "#ccc")
							.selectAll("path")
							.data(topojson.feature(gem, gem.objects[selected_provincie.id+"_"+slider_value]).features)
							.enter().append("g")
							.attr("class", "gemeente")
							.append("path")
							.on("click", zoom_gem)
							.on('mouseover', function(d) {
								if (selected_variable == 'gemiddelde_huishoudensgrootte.json' || selected_variable == 'personenautos_per_huishouden.json') {
									var value = dataset[d.properties.statnaam] / 100;
								}
								else {
									var value = dataset[d.properties.statnaam];
								}
								tooltip.select('.label').html(toTitleCase(d.properties.statnaam) + "<br />" + parseFloat(value).toLocaleString('nl'));
								tooltip.style('display', 'block');
							})
							.on('mouseout', function(d) {
								tooltip.style('display', 'none');
							})
							.on('mousemove', function(d) {
								tooltip.style('top', (d3.event.pageY + 10) + 'px')
							    	.style('left', (d3.event.pageX + 10) + 'px');
							})
							.attr("id", function(d) { return d.properties.name })
							.attr("d", path)
							.attr("fill", function(d) {
								if (dataset[d.properties.statnaam] === undefined) {
									return '#ccc';
								}
								return colorScale(dataset[d.properties.statnaam]);
							})
							.append("title");
													
						return true;
						
						if (selected_gemeente != null) {
							drawChart();
						}
					});
				}
				
			}
			
			d3.json("build/prov.json", function(error, prov) {
				if (error) return console.error(error);
				data_feature = topojson.feature(prov, prov.objects.provgeo).features;
				
				g.attr("class", "provincies")
					.selectAll("path")
					.data(data_feature)
					.enter().append("g")
					.attr("class", "provincie")
					.append("path")
					.on("click", zoom_prov)
					.attr("id", function(d) { return d.properties.PROV_NAME })
					.attr("d", path)
					.attr("fill", "#ccc")
					.append("title")
					.text(function(d) {	return d.properties.PROV_NAME; });
					
			});
			
			function zoom_gem(d) {
				if (selected_variable == '') { alert('Selecteer eerst een gegevensbron'); return false; }
				if (active_gem.node() === this) { $('#gemeente').html(''); return reset_to_prov(); }
				
				selected_gemeente = d;
				selected_gemeente_obj = this;
				
				active_gem.classed("active", false);
				active_gem = d3.select(this).classed("active", true);
				
				$('#gemeente').html(toTitleCase(d.properties.statnaam));
				
				var bounds = path.bounds(d),
					dx = bounds[1][0] - bounds[0][0],
					dy = bounds[1][1] - bounds[0][1],
					x = (bounds[0][0] + bounds[1][0]) / 2,
					y = (bounds[0][1] + bounds[1][1]) / 2,
					scale = 0.9 / Math.max(dx / width, dy / height),
					translate = [width / 2 - scale * x, height / 2 - scale * y];
				
				svg.transition()
					.duration(1250)
					.call(zoom.translate(translate).scale(scale).event);
				
				$('#slider').hide();
				drawChart();
				
			}
			
			function drawChart() {
				$('#visual').empty();
				
				$('#visual').append('<form>' + 
									'<label><input type="radio" name="mode" value="line" checked="checked"> Lijn</label>' +
									'<label><input type="radio" name="mode" value="bar"> Staaf</label>' +
									'</form>');
				
				if ($("input[type=radio]").val() == "line") {
					$('#visual svg').remove();
					drawLineChart();
				}
				else if ($("input[type=radio]").val() == "bar") {
					$('#visual svg').remove();
					drawBarChart();
				}
				
				$("input[type=radio]").change(function() {
					if ($(this).val() == "line") {
						$('#visual svg').remove();
						drawLineChart();
					}
					else if ($(this).val() == "bar") {
						$('#visual svg').remove();
						drawBarChart();
					}
				});
				
			}
			
			function drawLineChart() {
				var dataset = [
							{'year': 2006, 'value': cbs_data['2006'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2007, 'value': cbs_data['2007'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2008, 'value': cbs_data['2008'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2009, 'value': cbs_data['2009'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2010, 'value': cbs_data['2010'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2011, 'value': cbs_data['2011'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2012, 'value': cbs_data['2012'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2013, 'value': cbs_data['2013'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2014, 'value': cbs_data['2014'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]}
						];
				
				var margin = {top: 20, right: 20, bottom: 30, left: 60},
				    width = $(".right").width() * 0.8,
				    height = width * 0.6;
				
				var x = d3.scale.ordinal()
				    .rangeRoundBands([0, width], .3);
				
				var y = d3.scale.linear()
				    .range([height, 0]);
				
				var xAxis = d3.svg.axis()
				    .scale(x)
				    .orient("bottom");
				    
				var yAxis = d3.svg.axis()
				    .scale(y)
				    .orient("left")
				    .tickFormat(function(d) { return parseInt(d).toLocaleString('nl'); });
				    
				if (selected_variable == 'gemiddelde_huishoudensgrootte.json' || selected_variable == 'personenautos_per_huishouden.json') {
					yAxis.tickFormat(function(d) { return parseFloat(d / 100).toLocaleString('nl'); });
				}
				
				var svg = d3.select("#visual").append("svg")
				    .attr("width", width + margin.left + margin.right)
				    .attr("height", height + margin.top + margin.bottom)
					.append("g")
					.attr("transform", "translate(" + margin.left + "," + margin.top + ")");
				    
				var min = d3.min(dataset, function(d) { return d.value*0.9; }), 
					max = d3.max(dataset, function(d) { return d.value * 1.1; });
					
				x.domain([2006,2007,2008,2009,2010,2011,2012,2013,2014]);
				y.domain([min, max]);
				
				var line = d3.svg.line()
					.defined(function (d) { return d.value; })
				    .x(function(d) { return x(d.year); })
				    .y(function(d) { return y(d.value); });
				    
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis);
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")	
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end")
					.text($('#select_variable').find(":selected").data('type'));
				
				svg.append("path")
					.datum(dataset)
					.attr("class", "line")
					.attr("d", line);
				
			}
			
			function drawBarChart() {
				var dataset = [
							{'year': 2006, 'value': cbs_data['2006'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2007, 'value': cbs_data['2007'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2008, 'value': cbs_data['2008'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2009, 'value': cbs_data['2009'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2010, 'value': cbs_data['2010'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2011, 'value': cbs_data['2011'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2012, 'value': cbs_data['2012'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2013, 'value': cbs_data['2013'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]},
							{'year': 2014, 'value': cbs_data['2014'][selected_provincie.properties.PROV_NAME][selected_gemeente.properties.statnaam]}
						];
				
				var margin = {top: 20, right: 20, bottom: 30, left: 60},
				    width = $(".right").width() * 0.8,
				    height = width * 0.6;
				
				var x = d3.scale.ordinal()
				    .rangeRoundBands([0, width], .3);
				
				var y = d3.scale.linear()
				    .range([height, 0]);
				
				var xAxis = d3.svg.axis()
				    .scale(x)
				    .orient("bottom");
				    
				var yAxis = d3.svg.axis()
				    .scale(y)
				    .orient("left")
				    .tickFormat(function(d) { return parseInt(d).toLocaleString('nl'); });
				    
			    if (selected_variable == 'gemiddelde_huishoudensgrootte.json' || selected_variable == 'personenautos_per_huishouden.json') {
			    	yAxis.tickFormat(function(d) { return parseFloat(d / 100).toLocaleString('nl'); });
			    }
				
				var svg = d3.select("#visual").append("svg")
				    .attr("width", width + margin.left + margin.right)
				    .attr("height", height + margin.top + margin.bottom)
					.append("g")
					.attr("transform", "translate(" + margin.left + "," + margin.top + ")");
				
				x.domain([2006,2007,2008,2009,2010,2011,2012,2013,2014]);
				y.domain([0, d3.max(dataset, function(d) { return d.value * 1.1; })]);
				
				svg.append("g")
				  .attr("class", "x axis")
				  .attr("transform", "translate(0," + height + ")")
				  .call(xAxis);
				
				svg.append("g")
				  .attr("class", "y axis")
				  .call(yAxis)
				.append("text")
				  .attr("transform", "rotate(-90)")
				  .attr("y", 6)
				  .attr("dy", ".71em")
				  .style("text-anchor", "end")
				  .text($('#select_variable').find(":selected").data('type'));
				
				svg.selectAll(".bar")
				  .data(dataset)
				  .enter()
				  .append("rect")
				  .attr("class", "bar")
				  .attr("x", function(d) { return x(d.year); })
				  .attr("width", x.rangeBand())
				  .attr("y", function(d) { return y(d.value); })
				  .attr("height", function(d) { return height - y(d.value); });
			
			}
			
			function drawTreemap() {
			
				$('#visual').empty();
				
				var margin = {top: 10, right: 0, bottom: 5, left: 0},
				    width = $(".right").width() * 0.95,
				    height = width * 0.9;
			
				var treemap = d3.layout.treemap()
				    .size([width, height])
				    .sticky(true)
				    .value(function(d) { return d.value; });
				
				var color = d3.scale.ordinal().domain(treemap.nodes).range(colorbrewer.Set2[7]);
				
				var div = d3.select("#visual").append("div")
				    .style("position", "relative")
				    .style("width", (width + margin.left + margin.right) + "px")
				    .style("height", (height + margin.top + margin.bottom) + "px")
				    .style("left", margin.left + "px")
				    .style("top", margin.top + "px");
				
				d3.json("convert/data/json/tree_" + selected_variable, function(error, root) {
					if (error) throw error;
					
					var dataset;
					$.each(root.children, function(i, v) {
					    if (v.name == slider_value) {
					    	if (selected_provincie == null) {
					    		dataset = v;
					    		return;
					    	}
					    	else {
						        $.each(v.children, function(i, v) {
						            if (v.name == selected_provincie.properties.PROV_NAME) {
						                dataset = v;
						                return;
						            }
						        });
							}
					    }
					});
					
					var node = div.datum(dataset).selectAll(".node")
						.data(treemap.nodes)
						.enter()
						.append("div")
						.attr("class", "node")
						.call(position)
						.style("background", function(d) { return color(d.name); })
						.text(function(d) { return toTitleCase(d.name); });
						
				});
				
			}
			
			function position() {
				this.style("left", function(d) { return d.x + "px"; })
			      .style("top", function(d) { return d.y + "px"; })
			      .style("width", function(d) { return Math.max(0, d.dx - 1) + "px"; })
			      .style("height", function(d) { return Math.max(0, d.dy - 1) + "px"; });
			}
			
			function zoom_prov(d) {
			
				if (selected_variable == '') { alert('Selecteer eerst een gegevensbron'); return false; }
				gg.selectAll("path").remove();
				$('#slider').show();
				
				drawTreemap();
				selected_provincie = d;
				selected_provincie_obj = this;
				
				$('#provincie').html(d.properties.PROV_NAME);
				
				active_prov.classed("active_prov", false);
				active_prov = d3.select(this).classed("active_prov", true);
				
				d3.json("gemeente-prov/topo_"+d.id+"_"+slider_value+".json", function(error, gem) {
					if (error) return console.error(error);
					
					dataset = cbs_data[slider_value][d.properties.PROV_NAME];
					
					var values = d3.values(dataset);
					values = values.map(function(d) {
						return +d;
					});
					
					if (selected_variable == "stedelijkheid.json") {
						var max = d3.min(values);
						var min = d3.max(values);
					}
					else {
						var min = d3.min(values);
						var max = d3.max(values);
					}
					
					var colorScale = d3.scale.quantize()
					    .range(colorbrewer.OrRd[8])
					    .domain([min, max]);
					
					tooltip = d3.select('#wrapper') 
						.append('div')                 
						.attr('class', 'tooltip');     
					
					tooltip.append('div')            
						.attr('class', 'label');
					
					gg.attr("fill", "#ccc")
						.selectAll("path")
						.data(topojson.feature(gem, gem.objects[d.id+"_"+slider_value]).features)
						.enter().append("g")
						.attr("class", "gemeente")
						.append("path")
						.on("click", zoom_gem)
						.on('mouseover', function(d) {
							if (selected_variable == 'gemiddelde_huishoudensgrootte.json' || selected_variable == 'personenautos_per_huishouden.json') {
								var value = dataset[d.properties.statnaam] / 100;
							}
							else {
								var value = dataset[d.properties.statnaam];
							}
							tooltip.select('.label').html(toTitleCase(d.properties.statnaam) + "<br />" + parseFloat(value).toLocaleString('nl'));
							tooltip.style('display', 'block');
						})
						.on('mouseout', function(d) {
							tooltip.style('display', 'none');
						})
						.on('mousemove', function(d) {
							tooltip.style('top', (d3.event.pageY + 10) + 'px')
						    	.style('left', (d3.event.pageX + 10) + 'px');
						})
						.attr("id", function(d) { return d.properties.name })
						.attr("d", path)
						.attr("fill", function(d) {
							if (dataset[d.properties.statnaam] === undefined) {
								return '#ccc';
							}
							return colorScale(dataset[d.properties.statnaam]);
						});
					
					var bounds = path.bounds(d),
						dx = bounds[1][0] - bounds[0][0],
						dy = bounds[1][1] - bounds[0][1],
						x = (bounds[0][0] + bounds[1][0]) / 2,
						y = (bounds[0][1] + bounds[1][1]) / 2,
						scale = 0.9 / Math.max(dx / width, dy / height),
						translate = [width / 2 - scale * x, height / 2 - scale * y];
					
					svg.transition()
						.duration(1250)
						.call(zoom.translate(translate).scale(scale).event);
					
				});
			}
			
			function reset_to_prov() {
			
				$('#slider').show();
				$('#visual').empty();
				drawTreemap();
				
				active_gem.classed("active_gem", false);
				active_gem = d3.select(null);
				selected_gemeente = null;
				active_prov.classed("active_prov", false);
				active_prov = d3.select(selected_provincie_obj).classed("active_prov", true);
				
				var bounds = path.bounds(selected_provincie),
					dx = bounds[1][0] - bounds[0][0],
					dy = bounds[1][1] - bounds[0][1],
					x = (bounds[0][0] + bounds[1][0]) / 2,
					y = (bounds[0][1] + bounds[1][1]) / 2,
					scale = 0.9 / Math.max(dx / width, dy / height),
					translate = [width / 2 - scale * x, height / 2 - scale * y];
				
				svg.transition()
					.duration(1250)
					.call(zoom.translate(translate).scale(scale).event);
				
			}
			
			function reset_to_land() {
				
				gg.selectAll("path").remove();
				$('#slider').show();
				$('#visual').empty();
				
				selected_provincie = null;
				selected_gemeente = null;
				$('#provincie').html('');
				$('#gemeente').html('');
				
				active_gem.classed("active_gem", false);
				active_gem = d3.select(null);
				active_prov.classed("active_prov", false);
				active_prov = d3.select(null);
				
				svg.transition()
				  .duration(1250)
				  .call(zoom.translate([0, 0]).scale(1).event);
				
			}
			
			function zoomed() {
				g.style("stroke-width", 1.5 / d3.event.scale + "px");
				g.attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
				gg.style("stroke-width", 1.5 / d3.event.scale + "px");
				gg.attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
				
			}
			
			function stopped() {
				if (d3.event.defaultPrevented) d3.event.stopPropagation();
			}
			
			
			function toTitleCase(str)
			{
			    return str.replace(/\w\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});
			}
			
		});
		/*$(document).ready(function() {
			setTimeout(function() {
				jQuery.fn.d3Click = function () {
					this.each(function (i, e) {
						var evt = document.createEvent("MouseEvents");
						evt.initMouseEvent("click", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
						
						e.dispatchEvent(evt);
					});
				};
				
				if (vars.hasOwnProperty("gemeente")) {
					var gemeente = $('#'+vars['gemeente']);
					gemeente.d3Click();
				}
				
			}, 1000);
		});*/
		</script>
	</body>
</html>
